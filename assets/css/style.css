/* Global, mobile-first styles and animations for the Birthday Wish app */
/* Typography: Dancing Script for headings on birthday.php */
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Inter:wght@400;600;700&display=swap');

:root {
	/* Requested palette */
	--bg-dark: #0b0710;
	--accent-purple: #7b2ff7;
	--magenta: #ff3cac;
	--hot-pink: #ff5da2;
	--gold: #ffd166; /* small accents */
	--muted: #cfc7d9;

	/* Gradient presets */
	--grad-pink-purple: linear-gradient(135deg, #ff9a9e, #fad0c4, #fad0c4, #fbc2eb, #a18cd1);
	--grad-red-pink: linear-gradient(135deg, #ff6a88, #ff99ac);
	--grad-midnight: linear-gradient(135deg, #2b1055, #7597de);

	/* Heart palette */
	--heart-classic: #ff4d6d; /* classic red */
	--heart-hot-pink: #ff66b2;
	--heart-peach: #ffb6b9;
	--heart-violet: #c77dff;

	/* Back-compat variables used elsewhere */
	--bg: #0f0c29;
	--bg2: #302b63;
	--bg3: #24243e;
	--romance1: var(--magenta);
	--romance2: var(--hot-pink);
	--romance3: #ff416c;
	--heart-red: #e63946;
	--heart-pink: #ff4d6d;
	--heart-purple: #a06cd5;
	--white: #ffffff;
	--shadow: 0 10px 30px rgba(0,0,0,.25);
	--glow: 0 0 20px rgba(255, 126, 179, .6), 0 0 40px rgba(255, 126, 179, .3);
	--transition: 180ms ease;
}

/* Layout */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0;
	font-family: 'Inter', 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
	color: var(--white);
	/* Romantic gradient layers */
	background:
		radial-gradient(1200px 800px at 10% 10%, rgba(255,255,255,.06), transparent 45%),
		var(--grad-pink-purple);
	background-size: 400% 400%;
	animation: bgShift 18s ease infinite;
}

@keyframes bgShift {
	0% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
	100% { background-position: 0% 50%; }
}

.container {
	min-height: 100dvh;
	display: grid;
	place-items: center;
	padding: 16px;
}

.stack { display: grid; gap: 16px; }
.center { text-align: center; }

/* Buttons */
.btn {
	appearance: none;
	border: none;
	background: linear-gradient(135deg, var(--accent-purple), var(--hot-pink));
	color: #fff;
	padding: 14px 20px;
	border-radius: 999px;
	font-weight: 700;
	box-shadow: var(--shadow);
	transform: translateZ(0);
	cursor: pointer;
	transition: transform var(--transition), filter var(--transition), box-shadow var(--transition);
	position: relative; overflow: hidden;
}
.btn:hover, .btn:focus-visible { transform: translateY(-1px) scale(1.02); outline: none; box-shadow: 0 12px 40px rgba(255,126,179,.35); }
.btn:active { transform: translateY(0) scale(.98); }
.btn.secondary { background: #1f2937; border: 1px solid #374151; }
.btn .ripple { position: absolute; border-radius: 50%; transform: translate(-50%,-50%); pointer-events: none; width: 8px; height: 8px; background: rgba(255,255,255,.45); animation: ripple .6s ease-out forwards; }
@keyframes ripple { from { opacity: .6; } to { opacity: 0; transform: translate(-50%,-50%) scale(16); } }

/* Accessibility */
:focus-visible { outline: 3px solid #93c5fd; outline-offset: 3px; border-radius: 6px; }

/* Floating background hearts */
.bg-hearts { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 0; }
.bg-hearts .heart { position: absolute; width: 12px; height: 12px; transform: rotate(45deg); opacity: .6; animation: floatUp linear infinite; }
.bg-hearts .heart::before, .bg-hearts .heart::after {
	content: '';
	position: absolute;
	width: 12px; height: 12px;
	background: currentColor;
	border-radius: 50%;
}
.bg-hearts .heart::before { left: -6px; top: 0; }
.bg-hearts .heart::after { left: 0; top: -6px; }

@keyframes floatUp {
	0% { transform: translateY(0) rotate(45deg) scale(.9); opacity: .0; }
	10% { opacity: .6; }
	100% { transform: translateY(-120vh) rotate(45deg) scale(1.2); opacity: 0; }
}

/* Soft stars */
.bg-stars { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.bg-stars .star { position: absolute; width: 2px; height: 2px; background: #fff; border-radius: 50%; opacity: .7; animation: twinkle 2.6s ease-in-out infinite; }
@keyframes twinkle { 0%,100% { opacity: .2; } 50% { opacity: .9; box-shadow: 0 0 6px #fff; } }

/* Floating party emojis */
.bg-emoji { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.bg-emoji .emoji { position: absolute; font-size: 16px; opacity: .85; animation: emojiDrift linear infinite; }
@keyframes emojiDrift { from { transform: translateY(10vh) rotate(0deg); } to { transform: translateY(-120vh) rotate(360deg); } }

/* Background balloons (slow) */
.bg-balloons { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.bg-balloons .b { position: absolute; width: 18px; height: 24px; border-radius: 50% 50% 46% 46%; opacity: .35; filter: blur(.2px); animation: bgBalloon linear infinite; }
@keyframes bgBalloon { from { transform: translateY(10vh); } to { transform: translateY(-110vh); } }

/* Intro big heart */
.big-heart {
	position: relative; width: 160px; height: 160px; transform: rotate(45deg);
	/* Glossy heart */
	background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0) 35%),
		linear-gradient(135deg, var(--magenta), var(--hot-pink));
	box-shadow: var(--glow);
	filter: drop-shadow(0 8px 24px rgba(230,57,70,.45));
}
.big-heart::before, .big-heart::after {
	content: '';
	position: absolute; width: 160px; height: 160px; background: var(--heart-red); border-radius: 50%;
}
.big-heart::before { left: -80px; top: 0; }
.big-heart::after { left: 0; top: -80px; }
.big-heart-wrap { display: grid; place-items: center; gap: 20px; }
.big-heart-wrap:hover .big-heart { animation: pulse 1.2s ease-in-out infinite; }
@keyframes pulse { 0%,100% { transform: rotate(45deg) scale(1); } 50% { transform: rotate(45deg) scale(1.03); } }

/* Heart pop particles */
.particle { position: absolute; width: 10px; height: 10px; transform: rotate(45deg); border-radius: 2px; opacity: 0; }
.particle::before, .particle::after { content: ''; position: absolute; width: 10px; height: 10px; background: currentColor; border-radius: 50%; }
.particle::before { left: -5px; }
.particle::after { top: -5px; }

/* Tree grow */
.tree {
	position: relative;
	width: 6px; height: 0;
	background: #8d5524; /* brown trunk */
	border-radius: 3px;
	box-shadow: inset 0 0 0 1px rgba(0,0,0,.08);
	margin: 0 auto;
}
.tree.grow { animation: growTrunk 2.2s ease forwards; }
@keyframes growTrunk { to { height: 280px; } }
.tree .branch { position: absolute; width: 6px; height: 0; background: #8d5524; border-radius: 3px; }
.tree.grow .branch { animation: growBranch 1.8s ease forwards; animation-delay: .6s; }
@keyframes growBranch { to { height: 100px; } }
.tree .branch.left { left: -38px; bottom: 200px; transform: rotate(-35deg); transform-origin: bottom; }
.tree .branch.right { right: -38px; bottom: 160px; transform: rotate(35deg); transform-origin: bottom; }
.tree .crown { position: absolute; bottom: 240px; left: 50%; width: 220px; height: 160px; transform: translateX(-50%); border-radius: 16px; filter: drop-shadow(0 10px 24px rgba(160,108,213,.5)); opacity: 0; background: transparent; }
.tree.show-crown .crown { animation: crownReveal .9s ease forwards; animation-delay: 2.2s; }
@keyframes crownReveal { 0% { opacity: 0; transform: translateX(-50%) scale(.6); } 100% { opacity: 1; transform: translateX(-50%) scale(1); } }
/* Emoji leaves inside crown */
.leaf-emoji { position: absolute; font-size: 18px; filter: drop-shadow(0 2px 4px rgba(0,0,0,.2)); }

/* Page transition */
.fade-out { animation: fadeOut .45s ease forwards; }
@keyframes fadeOut { to { opacity: 0; } }

/* Birthday page */
.title-script { font-family: 'Dancing Script', cursive; font-size: clamp(32px, 8vw, 64px); letter-spacing: .5px; text-shadow: 0 6px 24px rgba(0,0,0,.35); }
.script { font-family: 'Dancing Script', cursive; }
.title-dark { color: #e54814; text-shadow: 0 1px 0 rgba(233, 40, 10, 0.885); }
.subtitle-dark { color: #291784d3; }
.subtitle { color: #e75805e7; font-size: clamp(18px, 3.8vw, 20px); }
.photo-frame { position: relative; width: min(88vw, 360px); aspect-ratio: 1 / 1.15; border-radius: 16px; overflow: hidden; box-shadow: var(--shadow); background: #111827; }
.photo-frame img { width: 100%; height: 100%; object-fit: cover; display: block; opacity: 0; }
.photo-frame img.enter-delay { animation: enterFadeZoom .9s ease forwards .35s; }
.photo-frame::after { content:''; position:absolute; inset:-2px; border-radius:16px; background:
	conic-gradient(from 0deg, rgba(251, 68, 199, 0.738), rgba(247, 131, 201, 0.908) 30%, rgba(151, 101, 126, 0.881) 60%, rgba(255,255,255,0) 90%);
	filter: blur(2px); animation: orbitGlow 4s linear infinite; opacity:.7; pointer-events:none; }
@keyframes enterFadeZoom { from { opacity: 0; transform: scale(.98); } to { opacity: 1; transform: scale(1); } }
@keyframes orbitGlow { to { transform: rotate(360deg); } }
.photo-glow { position: absolute; inset: 0; border-radius: 16px; box-shadow: 0 0 0 2px rgba(255,255,255,.06), 0 0 60px rgba(255,126,179,.4) inset, 0 0 40px rgba(255,126,179,.35); pointer-events: none; opacity: 0; }
.enter-fade { animation: enterFade .9s ease forwards; }
.enter-delay { animation: enterFade .9s ease forwards .35s; }
@keyframes enterFade { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: none; } }

/* Custom photo frame glows and motions */
.photo-frame.glow-yellow::after { background:
    conic-gradient(from 0deg, rgba(255,209,102,.8), rgba(249,227,106,.75) 30%, rgba(255,239,159,.6) 60%, rgba(255,255,255,0) 90%);
}
.photo-frame.glow-mint::after { background:
    conic-gradient(from 0deg, rgba(6,214,160,.75), rgba(74,222,128,.7) 30%, rgba(167,243,208,.6) 60%, rgba(255,255,255,0) 90%);
}
.photo-frame.glow-orange::after { background:
    conic-gradient(from 0deg, rgba(252, 157, 55, 0.901), rgb(129, 250, 240) 30%, rgba(252, 252, 252, 0.721) 60%, rgba(255,255,255,0) 90%);
}
.photo-frame.glow-yellow .photo-glow { box-shadow: 0 0 0 2px rgba(255,255,255,.06), 0 0 60px rgba(255,209,102,.45) inset, 0 0 40px rgba(255,209,102,.35); }
.photo-frame.glow-mint .photo-glow { box-shadow: 0 0 0 2px rgba(255,255,255,.06), 0 0 60px rgba(6,214,160,.45) inset, 0 0 40px rgba(6,214,160,.35); }

.photo-frame.anim-bob { animation: bob 3.5s ease-in-out infinite; }
.photo-frame.anim-sway { animation: sway 4.2s ease-in-out infinite; }
@keyframes bob { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
@keyframes sway { 0%,100% { transform: rotate(0deg); } 50% { transform: rotate(1.5deg); } }

/* Balloons */
.balloon-area { position: relative; width: 100%; height: 60vh; max-height: 560px; overflow: hidden; border-radius: 16px; background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06); }
.balloon { position: absolute; bottom: -120px; width: 42px; height: 56px; border-radius: 50% 50% 46% 46%; background: var(--romance2); box-shadow: inset 0 -16px 24px rgba(0,0,0,.18); animation: floatBalloon linear forwards; }
.balloon::after { content: ''; position: absolute; left: 50%; bottom: -24px; width: 2px; height: 24px; background: rgba(255,255,255,.6); transform: translateX(-50%); }
@keyframes floatBalloon { to { transform: translateY(-80vh); } }
.pop { animation: pop .3s ease forwards; }
@keyframes pop { 50% { transform: scale(1.2); filter: brightness(1.3); } 100% { transform: scale(0); opacity: 0; } }
.balloon[tabindex="0"]:focus-visible { outline: 3px solid #93c5fd; outline-offset: 2px; }

/* Heart burst for pops */
.burst-heart { position: absolute; width: 10px; height: 10px; transform: rotate(45deg); }
.burst-heart::before, .burst-heart::after { content: ''; position: absolute; width: 10px; height: 10px; background: currentColor; border-radius: 50%; }
.burst-heart::before { left: -5px; }
.burst-heart::after { top: -5px; }

/* Cube */
.cube-wrap { width: min(95vw, 400px); height: min(95vw, 400px); perspective: 1500px; margin-inline: auto; position: relative; }
.cube { position: absolute; inset: 0; transform-style: preserve-3d; animation: rotateCube 12s linear infinite; }
.cube.cube-31s { animation-duration: 31s; animation-iteration-count: 1; animation-name: rotateCubeFast; }
.cube .face { position: absolute; inset: 0; display: grid; place-items: center; backface-visibility: hidden; overflow: hidden; border-radius: 12px; box-shadow: var(--shadow); }
.cube .face img { width: 100%; height: 100%; object-fit: cover; object-position: center; border-radius: 12px; box-shadow: 0 6px 16px rgba(0,0,0,.28); display: block; border: 3px solid rgba(255,255,255,.9); }
/* Background texture alternative to avoid broken <img> icon */
.cube .face .tex { width: 100%; height: 100%; border-radius: 12px; box-shadow: 0 6px 16px rgba(0,0,0,.28); background-position: center; background-size: cover; background-repeat: no-repeat; border: 3px solid rgba(255,255,255,.9); }

@keyframes rotateCube {
	0% { transform: rotateX(-15deg) rotateY(0deg); }
	50% { transform: rotateX(15deg) rotateY(180deg); }
	100% { transform: rotateX(-15deg) rotateY(360deg); }
}

/* Faster rotation path to show more faces within 31s */
@keyframes rotateCubeFast {
	0% { transform: rotateX(-15deg) rotateY(0deg); }
	25% { transform: rotateX(10deg) rotateY(360deg); }
	50% { transform: rotateX(-10deg) rotateY(720deg); }
	75% { transform: rotateX(10deg) rotateY(1080deg); }
	100% { transform: rotateX(-15deg) rotateY(1440deg); }
}

/* Audio control */
.audio-control { position: fixed; right: 12px; bottom: 12px; z-index: 10; }

/* Musicians */
.musician { position: fixed; width: 72px; opacity: .9; filter: drop-shadow(0 6px 16px rgba(0,0,0,.3)); }
.musician.top-left { left: 8px; top: 8px; }
.musician.top-right { right: 8px; top: 8px; }
.musician.bottom-left { left: 8px; bottom: 56px; }
.musician.bottom-right { right: 8px; bottom: 56px; }
.strum { animation: strum 1.6s ease-in-out infinite; transform-origin: center; }
@keyframes strum { 0%,100% { transform: rotate(0); } 50% { transform: rotate(4deg); } }
.nod { animation: nod 2.2s ease-in-out infinite; transform-origin: center; }
@keyframes nod { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-2px); } }
.breathe { animation: breathe 3.2s ease-in-out infinite; transform-origin: center; }
@keyframes breathe { 0%,100% { transform: scale(1); } 50% { transform: scale(1.02); } }

/* Heart finale */
.mega-heart { position: relative; width: min(60vw, 240px); height: min(60vw, 240px); transform: rotate(45deg); background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0) 35%), linear-gradient(135deg, var(--magenta), var(--hot-pink)); border-radius: 16px; box-shadow: var(--glow); margin-inline: auto; }
.mega-heart::before, .mega-heart::after { content: ''; position: absolute; width: 100%; height: 100%; background: inherit; border-radius: 50%; }
.mega-heart::before { left: -50%; top: 0; }
.mega-heart::after { left: 0; top: -50%; }
.beat { animation: beat 2s ease forwards; }
@keyframes beat { 0%, 20%, 40%, 60%, 80%, 100% { transform: rotate(45deg) scale(1); } 10%, 30%, 50%, 70%, 90% { transform: rotate(45deg) scale(1.08); } }

.heart-split-top, .heart-split-bottom { position: absolute; inset: 0; }
.heart-split-top { transform: translateY(0); animation: splitTop 1s ease forwards 2.2s; }
.heart-split-bottom { transform: translateY(0); animation: splitBottom 1s ease forwards 2.2s; }
@keyframes splitTop { to { transform: translateY(-60%); } }
@keyframes splitBottom { to { transform: translateY(60%); } }

.typewriter { font-size: clamp(18px, 5.2vw, 24px); line-height: 1.6; max-width: 720px; margin: 0 auto; color: #f8fafc; text-align: center; opacity: 0; transition: opacity .4s ease; }

/* Heart page message styles */
.message-container { max-width: 760px; margin: 12px auto 0; opacity: 0; transition: opacity .6s ease; text-align: center; }
.message-title { font-family: 'Dancing Script', cursive; font-size: clamp(28px, 8vw, 56px); margin: 8px 0 4px; color: #1b1530; text-shadow: 0 1px 0 rgba(255,255,255,.35); }
.message-content { display: grid; gap: 4px; color: #1b1530; }
.message-line { opacity: 0; transform: translateY(6px); }
.message-line.show { opacity: 1; transform: translateY(0); transition: opacity .45s ease, transform .45s ease; }

/* Improve intro click target */
.big-heart-wrap { cursor: pointer; }
.typewriter .cursor { display: inline-block; width: 1ch; animation: caret 1s steps(1) infinite; }
@keyframes caret { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }

/* Text shimmer for headings */
.text-shimmer {
	background: linear-gradient(90deg, #ffffff, #ffd6e7, #ffffff);
	-webkit-background-clip: text;
	background-clip: text;
	color: transparent;
	animation: shimmer 3.5s ease-in-out infinite;
}
@keyframes shimmer { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

/* Confetti ribbons */
.confetti { position: absolute; width: 6px; height: 12px; border-radius: 2px; opacity: .9; transform: rotate(10deg); animation: confettiFall .8s ease-out forwards; }
@keyframes confettiFall { from { transform: translateY(0) rotate(0deg); } to { transform: translateY(140px) rotate(360deg); opacity: 0; } }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	* { animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; scroll-behavior: auto !important; }
}


